[
  {
    "objectID": "cran-archiving-stats.html",
    "href": "cran-archiving-stats.html",
    "title": "Study: Many Archived Packages Return to CRAN",
    "section": "",
    "text": "CRAN packages are archived all the time, but a large portion of them eventually gets fixed and return to CRAN. Using public data available from different resources1 on CRAN, we have found that 36% of the archived packages get unarchived at some point (Revilla 2022). The median time for these packages to return to CRAN is ~33 days."
  },
  {
    "objectID": "cran-archiving-stats.html#data-quality-checks",
    "href": "cran-archiving-stats.html#data-quality-checks",
    "title": "Study: Many Archived Packages Return to CRAN",
    "section": "Data quality checks",
    "text": "Data quality checks\nTo make sure our assumptions about the raw input data is valid, we will run some initial quality checks based on the data that are available as of 2024-07-06.\nA package should never unarchived more times than it is archive. However, there are currently 94 packages unarchived more times than archived. There could be several reasons for this:\n\none of the previous issues with the package lead to its removal.\nthe term used for annotating an event was different (‘orphaned’ instead of ‘archived’).\n\n\n\n\n\n\nFirst action\nPackages\n\n\n\n\norphaned\n86\n\n\nremoved\n68\n\n\narchived\n21\n\n\nrenamed\n1\n\n\n\nFigure: First recorded action taken of a package. Looking by date most packages’ first action recorded is being added to CRAN. For some it isn’t.\n\n\nWe also check what the first recorded event packages have. If the first action recorded for a package is not that it is ‘accepted’, this can indicate some problems on the data that could lead to problems on the conclusions.\nA special mention of the ‘removed’ action: This action is usually reserved to copyright issues and it is normal that it is the first action in record for a package as previous records are removed too from CRAN (package source code).\nBy contrast, we should not expected lack of records on CRAN of ‘accepted’ packages. Based on the current data, this is the case for 135 packages. This could indicated that packages have been ‘renamed’ or ‘removed’. Another explanations could be that there was a dialogue between the package maintainers and the CRAN Team that lead to the package being ‘unarchived’ without new ‘accepted’ packages. It could be because of a missing entry in the CRAN data.\n\n\n\nTable: Events per package in the same date. Most packages have just one action per day. Unarchiving usually requires a new package’s version accepted the same day.\n\n\nMultiple actions\nEvents\n% events\n\n\n\n\n1\n60011\n86%\n\n\n2\n9101\n13%\n\n\n3\n331\n0%\n\n\n\n\n\nIn total there are 425 ‘unarchived’ events that do not have the corresponding ‘accepted’ package included event (on the same date). Currently, this is the case for 413 packages out of 9284 (4%).\nOn the contrary, there are some events that are not expected to happen on the same day:\n\n\n\nTable: Actions that happend on the same date in a given package. Mostly a new acceptance lead to a package being unarchived. In some occasions other actions.\n\n\nMultiple actions\nEvents\n%\n\n\n\n\naccepted & unarchived\n4344\n93.460%\n\n\naccepted & orphaned\n121\n2.603%\n\n\naccepted & archived & unarchived\n109\n2.345%\n\n\naccepted & archived\n63\n1.355%\n\n\narchived & unarchived\n7\n0.151%\n\n\naccepted & removed\n3\n0.065%\n\n\naccepted & orphaned & unarchived\n1\n0.022%\n\n\n\n\n\nThose with three different actions imply that there has been multiple revisions from the CRAN Team on the same day.\nIn total there are 622 different packages identified with problematic records/processing from 9284. Out of these, 118 were found to have two or more different issues. Depending on which issue, they might be corrected to the best of our abilities, or simply be discarded depending on the issue and question we are trying to answer."
  },
  {
    "objectID": "cran-archiving-stats.html#analysis",
    "href": "cran-archiving-stats.html#analysis",
    "title": "Study: Many Archived Packages Return to CRAN",
    "section": "Analysis",
    "text": "Analysis\nNow that we have looked into the data quality, we can start trying to answer some questions:\n\nSummary of how long it takes packages to be unarchived\n\n\n\nTable: Summary statistics of time to get back to CRAN after being archived. Median time is 33 days.\n\n\n\n\n\n\n\n\n\n\n\n\nTimes archived\nPackages\nMin.\n1st Qu.\nMedian\nMean\n3rd Qu.\nMax.\n\n\n\n\n1\n3361\n1 days\n9 days\n33 days\n128 days\n125 days\n3292 days\n\n\n2\n662\n1 days\n8 days\n28 days\n92 days\n90 days\n1949 days\n\n\n3\n175\n1 days\n7 days\n27 days\n92 days\n86 days\n882 days\n\n\n4\n59\n1 days\n5 days\n18 days\n73 days\n82 days\n652 days\n\n\n5\n16\n1 days\n3 days\n13 days\n28 days\n48 days\n93 days\n\n\n6\n5\n3 days\n17 days\n27 days\n73 days\n63 days\n254 days\n\n\n7\n1\n2 days\n2 days\n2 days\n2 days\n2 days\n2 days\n\n\n\n\n\n\n\n\n\n\nFigure: Summary statistics of time to get back to CRAN after being archived. Graphical representation of the previous table.\n\n\n\n\n\n\nReturn time for packages archived only once in their lifetime\n\n\n\n\n\nFigure: Empirical distribution of the time it takes packages to get unarchived as a function of number of days since being archived on CRAN for the first time.\n\n\n\n\n\n\nReturn time for packages archived\n\n\n\n\n\nFigure: Empirical distribution of the time it takes packages to get unarchived as a function of number of days since being archived on CRAN.\n\n\n\n\n\n\n\n\n\nFigure: Packages archived and date since the previous release. The color indicates if a given package was archived multiple times; the more times it has been archived the lighter the point is.\n\n\n\n\n\n\nCumulative number of archived packages over the years\n\n\n\n\n\nFigure: Packages actions done by the CRAN Team over time. The CRAN Team may take different actions for packages currently on e.g. archived (solid red), orphaned (dotted yellow), removed (dashed green), renamed (dashed blue), and unarchived (dotted purple). Presented is the cumulative number of such events over time on the linear (left) and the logarithmic (right) scale.\n\n\n\n\n\n\nDays to return versus date when archived\n\n\n\n\n\nFigure: Packages being archived and returning to CRAN. Each data point represents when a CRAN package was archived (horizontal axis) and when it was unarchived (vertical axis). If more than one package was archive and unarchived on the same dates, the corresponding data point is presented as a larger disk. The gray dashed line is the event horizon.\n\n\n\n\n\n\nDistribution of number of days for packages to return to CRAN\n\n\n\n\n\nFigure: Histogram of how long packages remain archived on CRAN. Each bar represents a week. Most packages return to CRAN within a month.\n\n\n\n\n\n\nPackages archived over all\nThere have been at least 9089 packages archived from CRAN. From the total of 23058 in its whole history. Which results in 39% of all packages ever in CRAN got at one point archived.\n\n\n\n\n\nFigure: Packages are archived multiple times. Packages archived are sometimes back on CRAN and archived again.\n\n\n\n\nMost packages are not archived, but if they are mostly archived once. This is probably because 50% of those archived never get back to CRAN.\n\n\n\n\n\nFigure: Most packages are not back to CRAN after being archived. Packages that got archived sometimes go back on CRAN.\n\n\n\n\nApproximately 38% packages gets back on CRAN.\n\n\nPackages resubmission\n\n\n\n\n\nFigure: Resubmission process by date of being archived. Events in black are those we cannot say if they were not re-submitted or rejected. The dashed gray lines are the dates of R minor releases.\n\n\n\n\nNotice how there are some packages that submitted a new version to CRAN after 2020-09-12, but where archived long before (those that are in red before that date). Those maintainers might need help to get their packages back on CRAN.\n\n\n\n\n\nFigure: Submissions are slightly faster for those that are accepted. Percentage of packages that are submitted before a given time."
  },
  {
    "objectID": "cran-archiving-stats.html#footnotes",
    "href": "cran-archiving-stats.html#footnotes",
    "title": "Study: Many Archived Packages Return to CRAN",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nData sources used are tools:::CRAN_current_db(), tools:::CRAN_archive_db(), and PACKAGES.in. The first holds a data frame of packages currently on CRAN, which information on the package name, the package version, and the publishing timestamp. The second holds a list of data frames, each comprising the same package information for all versions ever published on CRAN, except the currently available version. The third, holds information on events for packages that have ever been archived, removed, orphaned, etc.↩︎"
  },
  {
    "objectID": "dashboard-at-risk.html",
    "href": "dashboard-at-risk.html",
    "title": "Dashboard: Packages At-Risk of Being Archived",
    "section": "",
    "text": "The below table lists 79 R packages that are at risk of being archived1 on CRAN, because they have outstanding unresolved issues.\nSome of them might have already submitted a new version to fix the issues identified by CRAN (check the event column)."
  },
  {
    "objectID": "dashboard-at-risk.html#footnotes",
    "href": "dashboard-at-risk.html#footnotes",
    "title": "Dashboard: Packages At-Risk of Being Archived",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nWhen a package is archived, the archived version is still available in the CRAN archive area together with all previous versions.↩︎"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "dashboard-live.html",
    "href": "dashboard-live.html",
    "title": "Dashboard: Recently Archived CRAN Packages",
    "section": "",
    "text": "The below table lists all 69 R packages that are no longer on CRAN, because they have been either archived1 on or removed2 from CRAN during the last 35 days. These packages can be installed using:\nThe table shows the date when a package was dropped by CRAN and their reason3 for it. If a package has since been resubmitted and is waiting in the CRAN incoming queue, it is marked as “resubmitted” (in the ‘event’ column; currently 10 packages). Links to the most recent CRAN checks and the source code are also provided. If a package does not return to CRAN within 35 days, it is removed also from CRANhaven4."
  },
  {
    "objectID": "dashboard-live.html#footnotes",
    "href": "dashboard-live.html#footnotes",
    "title": "Dashboard: Recently Archived CRAN Packages",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nWhen a package is archived, the archived version is still available in the CRAN archive area together with all previous versions.↩︎\nWhen a package is removed, which is a rare event, the removed package version is completely removed from CRAN, and no longer available for download. Earlier versions might be available in the CRAN archive area.↩︎\nThe reason, which is based on the CRAN Repository Policy, is extracted from CRAN’s manually curated PACKAGES.in database.↩︎\nIf a package falls off also CRANhaven, it may still be installable from the CRAN mirror on R-universe.↩︎"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "CRANhaven",
    "section": "",
    "text": "Warning\n\n\n\nPlease, do not add the CRANhaven repository to Additional_repositories of your package. It is only meant to be a backup solution for end-users when a package falls of CRAN.\nThe CRANhaven package repository hosts R packages that were recently archived on CRAN. Those packages can be installed using:\nPackages remain on CRANhaven1 for up to five weeks2, or until they are unarchived on CRAN."
  },
  {
    "objectID": "index.html#motivation",
    "href": "index.html#motivation",
    "title": "CRANhaven",
    "section": "Motivation",
    "text": "Motivation\n\n\n\n\n\nCRANhaven is where recently archived CRAN packages can find shelter and get time for maintenance\n\n\n\nSometimes a package gets archived only because the maintainer did not have time to address the issues before the deadline given by CRAN. Sometimes the deadline is as short as two weeks. In Revilla (2022), it was found that 36% of all archived CRAN package get “unarchived” again at some point in the future. Our results show that the median time for an archived package to reappear on CRAN is ~30 days.\nThe impact of a CRAN package being archived depends on the package, and how widely used it is, and how many packages depend on it. In some cases it can be rather disruptive for R users and developers when one or more packages are archived on CRAN.\nImportantly, any package that has a hard dependency (e.g. Depends: and Imports:) on an archived package will automatically be archived too. There is little a developer that is a “victim” of this can do, other than doing a major rewrite, which is only reasonable to do if the developer knows that the archived package will not be fixed anytime soon.\nThe purpose of this R package repository is to give archived CRAN packages a second chance. As soon as the package is archived on CRAN, it is added to this repository. If the packages is fixed and “unarchived” on CRAN, it is removed from this repository. If the package is not unarchived on CRAN within five weeks, it is removed from this repository. This gives R users, developers, and reverse-dependency maintainers some extra leeway."
  },
  {
    "objectID": "index.html#known-limitations",
    "href": "index.html#known-limitations",
    "title": "CRANhaven",
    "section": "Known Limitations",
    "text": "Known Limitations\nSome of the CRANhaven packages fail to build temporarily only because they depend on another archived CRAN package, which still has not been built on CRANhaven. This will normally resolve itself after a few hours; R-universe re-synchronize once an hour and it might require a few rounds for all packages to be built."
  },
  {
    "objectID": "index.html#under-the-hood",
    "href": "index.html#under-the-hood",
    "title": "CRANhaven",
    "section": "Under the Hood",
    "text": "Under the Hood\nThis repository is updated once an hour. It queries CRANberries for recently archived packages, ignores the ones that have been archived for more than five weeks, or that have since be unarchived on CRAN. The source for the packages built on the CRANhaven R-universe is https://github.com/cran."
  },
  {
    "objectID": "index.html#footnotes",
    "href": "index.html#footnotes",
    "title": "CRANhaven",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nCRANhaven is served via R-universe. The “Commit” datestamps seen on R-universe show the dates (±1 day) when the packages were archived on CRAN.↩︎\nThe five-week limit is based on our results showing that the median time for a package to return to CRAN is 30 days.↩︎"
  }
]